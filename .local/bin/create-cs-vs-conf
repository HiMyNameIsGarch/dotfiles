#! /bin/sh

# get the values from current dir
basePath=$(pwd)
vs=$(dotnet --version)
dotnetVersion="${vs:0:3}"
projName="${basePath##*/}"

# write config to it
echo -e "{
  \"configurations\": {
     \"launch - netcoredbg\": {
       \"adapter\": \"netcoredbg\",
       \"configuration\": { 
         \"request\": \"launch\",
         \"program\":\"$basePath/bin/Debug/netcoreapp$dotnetVersion/$projName.dll\",
         \"args\": [],
         \"stopAtEntry\": true,
         \"cwd\": \""$basePath"\"
      }
    }
  }
}" >> ".vimspector.json" 

